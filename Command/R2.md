### Vyos R2 :

---------------

```bash


configure
set system host-name R2

# SSH :

set service ssh
set service ssh access-control allow user vyos

set interfaces ethernet eth0 vif 1 description 'VLAN 1'
set interfaces ethernet eth0 vif 1 address '200.8.1.254/24'
set interfaces ethernet eth0 vif 1 address '2001:0:8:1::254/64'
set interfaces ethernet eth0 vif 2 description 'VLAN 2'
set interfaces ethernet eth0 vif 2 address '200.8.2.254/24'
set interfaces ethernet eth0 vif 2 address '2001:0:8:2::254/64'

set interfaces ethernet eth1 address dhcp

# NAT :

set nat source rule 100 outbound-interface name eth1 #interface de sortie (outside)
set nat source rule 100 source address 200.8.1.0/24 #plage translatée
set nat source rule 100 translation address masquerade #overload

set nat source rule 101 outbound-interface name eth1 #interface de sortie (outside)
set nat source rule 101 source address 200.8.2.0/24 #plage translatée
set nat source rule 101 translation address masquerade #overload

set nat source rule 102 outbound-interface name eth1 #interface de sortie (outside)
set nat source rule 102 source address 200.8.10.0/24 #plage translatée
set nat source rule 102 translation address masquerade #overload

set nat source rule 103 outbound-interface name eth1 #interface de sortie (outside)
set nat source rule 103 source address 200.8.20.0/24 #plage translatée
set nat source rule 103 translation address masquerade #overload

set nat source rule 104 outbound-interface name eth1 #interface de sortie (outside)
set nat source rule 104 source address 200.8.99.0/24 #plage translatée
set nat source rule 104 translation address masquerade #overload

# OSPFv2 :

configure
set interfaces loopback lo address 2.2.2.2/24
set protocols ospf parameters router-id 2.2.2.2
set protocols ospf area 0 network 200.8.1.0/24
set protocols ospf area 0 network 200.8.2.0/24

# OSPFv3 :

configure
set protocols ospfv3 area 0
set protocols ospfv3 parameters router-id 2.2.2.2
--
set protocols ospfv3 interface eth2 area 0 #interface directement connecté à l'autre routeur
set protocols ospfv3 redistribute connected

show ipv6 ospfv3 neighbor
show ipv6 ospfv3 neighbor detail
show ipv6 ospfv3 route
run show ipv6 ospfv3 redistribute
show ip ospf neighbor
```
